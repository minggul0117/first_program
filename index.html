<!DOCTYPE html>
<html>
<head>
    <title>인물 맞히기 산성비 게임</title>
    <link rel="manifest" href="/first_program/manifest.json">
    <meta name="theme-color" content="#000000">
    <link rel="apple-touch-icon" href="https://i.ibb.co/j9VZdRcc/maskable-icon-x192.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="icon" href="https://i.ibb.co/j9VZdRcc/maskable-icon-x192.png" type="image/png">
    <style>
        /* 스타일 그대로 유지 */
    </style>
</head>
<body>
    <div id="gameArea">
        <div id="countdown"></div>
        <div id="speedDisplay">속도: 1x</div>
    </div>
    <div id="inputArea">
        <input type="text" id="answer" placeholder="이름을 입력하세요" disabled>
    </div>
    <div id="score">점수: <span id="scoreValue">0</span></div>
    <div id="combo">콤보: <span id="comboValue">0</span></div>
    <div style="text-align: center;">
        <button class="button" onclick="startGame()">게임 시작</button>
    </div>

    <script>
        // 기존 자바스크립트 게임 코드 그대로 유지
        // (사람 떨어지고, 점수 계산 등)
    </script>

    <!-- ✅ service worker 등록 코드 추가 -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/first_program/service-worker.js')
                    .then(registration => {
                        console.log('ServiceWorker 등록 성공:', registration.scope);
                    })
                    .catch(error => {
                        console.log('ServiceWorker 등록 실패:', error);
                    });
            });
        }
    </script>
</body>
</html>
